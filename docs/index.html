<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fit Text Inside a Box in 'ggplot2' • ggfittext</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Fit Text Inside a Box in 'ggplot2'">
<meta property="og:description" content="Provides 'ggplot2' geoms to fit text into a box by growing, shrinking
    or wrapping the text.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ggfittext</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.8.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/introduction-to-ggfittext.html">Introduction to 'ggfittext'</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/wilkox/ggfittext">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    

<div id="ggfittext" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#ggfittext" class="anchor"></a>ggfittext</h1></div>
<p>ggfittext provides a ggplot2 geom for fitting text inside a box</p>
<p><img src="reference/figures/README-hero-1.png" width="384"></p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the release version of ggfittext from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"ggfittext"</span>)</span></code></pre></div>
<p>If you want the development version, install it from GitHub:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"wilkox/ggfittext"</span>)</span></code></pre></div>
</div>
<div id="fitting-text-inside-a-box" class="section level2">
<h2 class="hasAnchor">
<a href="#fitting-text-inside-a-box" class="anchor"></a>Fitting text inside a box</h2>
<p>Sometimes you want to draw some text in a ggplot2 plot so that it fits inside a defined area. It’s possible to achieve this by manually fiddling with the font size, but this is both tedious and un-reproducible. ggfittext provides a geom called <code><a href="reference/geom_fit_text.html">geom_fit_text()</a></code> that automatically resizes text to fit inside a box. It works like this:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">ggplot</span>(animals, <span class="kw">aes</span>(<span class="dt">x =</span> type, <span class="dt">y =</span> flies, <span class="dt">label =</span> animal)) <span class="op">+</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="st">  </span><span class="kw">geom_tile</span>(<span class="dt">fill =</span> <span class="st">"white"</span>, <span class="dt">colour =</span> <span class="st">"black"</span>) <span class="op">+</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="st">  </span><span class="kw"><a href="reference/geom_fit_text.html">geom_fit_text</a></span>()</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="384"></p>
<p>As with <code>geom_text()</code>, the position of the text is set by the <code>x</code> and <code>y</code> aesthetics. <code><a href="reference/geom_fit_text.html">geom_fit_text()</a></code> automatically infers the width and height of the box in which the text is allowed to fit, and shrinks down any text that is too big.</p>
</div>
<div id="reflowing-text" class="section level2">
<h2 class="hasAnchor">
<a href="#reflowing-text" class="anchor"></a>Reflowing text</h2>
<p>Another way to make the text fit in the box is by reflowing it; that is, wrapping it over multiple lines. With the <code>reflow = TRUE</code> argument, <code><a href="reference/geom_fit_text.html">geom_fit_text()</a></code> will reflow the text before (if still necessary) shrinking it:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">ggplot</span>(animals, <span class="kw">aes</span>(<span class="dt">x =</span> type, <span class="dt">y =</span> flies, <span class="dt">label =</span> animal)) <span class="op">+</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="st">  </span><span class="kw">geom_tile</span>(<span class="dt">fill =</span> <span class="st">"white"</span>, <span class="dt">colour =</span> <span class="st">"black"</span>) <span class="op">+</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="st">  </span><span class="kw"><a href="reference/geom_fit_text.html">geom_fit_text</a></span>(<span class="dt">reflow =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-1.png" width="384"></p>
</div>
<div id="growing-text" class="section level2">
<h2 class="hasAnchor">
<a href="#growing-text" class="anchor"></a>Growing text</h2>
<p>If you want the text to be as large as possible, the argument <code>grow = TRUE</code> will increase the text size to the maximum that will fit in the box. This works well in conjunction with <code>reflow</code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">ggplot</span>(animals, <span class="kw">aes</span>(<span class="dt">x =</span> type, <span class="dt">y =</span> flies, <span class="dt">fill =</span> mass, <span class="dt">label =</span> animal)) <span class="op">+</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="st">  </span><span class="kw">geom_tile</span>(<span class="dt">fill =</span> <span class="st">"white"</span>, <span class="dt">colour =</span> <span class="st">"black"</span>) <span class="op">+</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="st">  </span><span class="kw"><a href="reference/geom_fit_text.html">geom_fit_text</a></span>(<span class="dt">reflow =</span> <span class="ot">TRUE</span>, <span class="dt">grow =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-6-1.png" width="384"></p>
</div>
<div id="placing-text" class="section level2">
<h2 class="hasAnchor">
<a href="#placing-text" class="anchor"></a>Placing text</h2>
<p>By default, text is placed in the centre of the box. However, you can place it in a corner or on a side of the box with the <code>place</code> argument, which takes values “top”, “topright”, “right”, “bottomright”, “bottom”, “bottomleft” and so on:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">ggplot</span>(animals, <span class="kw">aes</span>(<span class="dt">x =</span> type, <span class="dt">y =</span> flies, <span class="dt">label =</span> animal)) <span class="op">+</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="st">  </span><span class="kw">geom_tile</span>(<span class="dt">fill =</span> <span class="st">"white"</span>, <span class="dt">colour =</span> <span class="st">"black"</span>) <span class="op">+</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="st">  </span><span class="kw"><a href="reference/geom_fit_text.html">geom_fit_text</a></span>(<span class="dt">place =</span> <span class="st">"topleft"</span>, <span class="dt">reflow =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-7-1.png" width="384"></p>
</div>
<div id="bar-plots" class="section level2">
<h2 class="hasAnchor">
<a href="#bar-plots" class="anchor"></a>Bar plots</h2>
<p>ggfittext provides a convenience function <code><a href="reference/geom_fit_text.html">geom_bar_text()</a></code> for labelling bars in bar plots:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">ggplot</span>(altitudes, <span class="kw">aes</span>(<span class="dt">x =</span> craft, <span class="dt">y =</span> altitude, <span class="dt">label =</span> altitude)) <span class="op">+</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="st">  </span><span class="kw">geom_col</span>() <span class="op">+</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="st">  </span><span class="kw"><a href="reference/geom_fit_text.html">geom_bar_text</a></span>()</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-8-1.png" width="384"></p>
<p><code><a href="reference/geom_fit_text.html">geom_bar_text()</a></code> also works with stacked bar plots (<code>position = "stack"</code>):</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">ggplot</span>(coffees, <span class="kw">aes</span>(<span class="dt">x =</span> coffee, <span class="dt">y =</span> proportion, <span class="dt">label =</span> ingredient,</span>
<span id="cb8-2"><a href="#cb8-2"></a>                    <span class="dt">fill =</span> ingredient)) <span class="op">+</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="st">  </span><span class="kw">geom_col</span>(<span class="dt">position =</span> <span class="st">"stack"</span>) <span class="op">+</span></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="st">  </span><span class="kw"><a href="reference/geom_fit_text.html">geom_bar_text</a></span>(<span class="dt">position =</span> <span class="st">"stack"</span>, <span class="dt">grow =</span> <span class="ot">TRUE</span>, <span class="dt">reflow =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-9-1.png" width="384"></p>
<p>And with dodged bar plots, and <code>coord_flip()</code>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw">ggplot</span>(coffees, <span class="kw">aes</span>(<span class="dt">x =</span> coffee, <span class="dt">y =</span> proportion, <span class="dt">label =</span> ingredient,</span>
<span id="cb9-2"><a href="#cb9-2"></a>                    <span class="dt">fill =</span> ingredient)) <span class="op">+</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="st">  </span><span class="kw">geom_col</span>(<span class="dt">position =</span> <span class="st">"dodge"</span>) <span class="op">+</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="st">  </span><span class="kw"><a href="reference/geom_fit_text.html">geom_bar_text</a></span>(<span class="dt">position =</span> <span class="st">"dodge"</span>, <span class="dt">grow =</span> <span class="ot">TRUE</span>, <span class="dt">reflow =</span> <span class="ot">TRUE</span>, </span>
<span id="cb9-5"><a href="#cb9-5"></a>                <span class="dt">place =</span> <span class="st">"left"</span>) <span class="op">+</span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="st">  </span><span class="kw">coord_flip</span>()</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-10-1.png" width="384"></p>
</div>
<div id="specifying-the-box-coordinates" class="section level2">
<h2 class="hasAnchor">
<a href="#specifying-the-box-coordinates" class="anchor"></a>Specifying the box coordinates</h2>
<p>If you want to manually set the edges of the box (instead of having them inferred from <code>x</code> and <code>y</code>), you can use <code>xmin</code> &amp; <code>xmax</code> and/or <code>ymin</code> &amp; <code>ymax</code>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw">ggplot</span>(presidential, <span class="kw">aes</span>(<span class="dt">ymin =</span> start, <span class="dt">ymax =</span> end, <span class="dt">x =</span> party, <span class="dt">label =</span> name)) <span class="op">+</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="st">  </span><span class="kw"><a href="reference/geom_fit_text.html">geom_fit_text</a></span>(<span class="dt">grow =</span> <span class="ot">TRUE</span>) <span class="op">+</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="st">  </span><span class="kw">geom_errorbar</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-11-1.png" width="384"></p>
<p>Alternatively, you can set the width and/or height with the <code>width</code> and/or <code>height</code> arguments, which should be <code><a href="https://www.rdocumentation.org/packages/grid/topics/unit">grid::unit()</a></code> objects. The horizontal and/or vertical centre of the box will be defined by <code>x</code> and/or <code>y</code>.</p>
</div>
<div id="other-useful-arguments" class="section level2">
<h2 class="hasAnchor">
<a href="#other-useful-arguments" class="anchor"></a>Other useful arguments</h2>
<p>All arguments to <code><a href="reference/geom_fit_text.html">geom_fit_text()</a></code> can also be used with <code><a href="reference/geom_fit_text.html">geom_bar_text()</a></code>.</p>
<ul>
<li>
<strong><code>contrast</code></strong> can be used to automatically invert the colour of the text so it contrasts against a background <code>fill</code>:</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw">ggplot</span>(animals, <span class="kw">aes</span>(<span class="dt">x =</span> type, <span class="dt">y =</span> flies, <span class="dt">fill =</span> mass, <span class="dt">label =</span> animal)) <span class="op">+</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="st">  </span><span class="kw">geom_tile</span>() <span class="op">+</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="st">  </span><span class="kw"><a href="reference/geom_fit_text.html">geom_fit_text</a></span>(<span class="dt">reflow =</span> <span class="ot">TRUE</span>, <span class="dt">grow =</span> <span class="ot">TRUE</span>, <span class="dt">contrast =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-12-1.png" width="384"></p>
<ul>
<li>
<strong><code>padding.x</code></strong> and <strong><code>padding.y</code></strong> can be used to set the padding between the text and the edge of the box. By default this is 1 mm. These values must be given as <code><a href="https://www.rdocumentation.org/packages/grid/topics/unit">grid::unit()</a></code> objects.</li>
<li>
<strong><code>min.size</code></strong> sets the minimum font size in points, by default 4 pt. Text smaller than this will be hidden (see also <code>outside</code>).</li>
<li>
<strong><code>outside</code></strong> is <code>FALSE</code> by default for <code><a href="reference/geom_fit_text.html">geom_fit_text()</a></code>. If <code>TRUE</code>, text that is placed at “top”, “bottom”, “left” or “right” and must be shrunk smaller than <code>min.size</code> to fit in the box will be flipped to the outside of the box (if it fits there). This is mostly useful for drawing text inside bars in a bar plot, so it is <code>TRUE</code> by default for <code><a href="reference/geom_fit_text.html">geom_bar_text()</a></code>.</li>
<li>
<strong><code>hjust</code></strong> and <strong><code>vjust</code></strong> set the horizontal and vertical justification of the text, scaled between 0 (left/bottom) and 1 (right/top). These are both 0.5 by default.</li>
<li>
<strong><code>formatter</code></strong> allows you to set a function that will be applied to the text before it is drawn. This is mostly useful in contexts where variables may be interpolated, such as when using <a href="http://www.gganimate.com">gganimate</a>.</li>
<li>
<strong><code>fullheight</code></strong> is automatically set depending on place, but can be overridden with this option. This is used to determine the bounding box around the text. If <code>FALSE</code>, the bounding box includes the x-height of the text and descenders, but not any descenders. If TRUE, it extends from the top of the ascenders to the bottom of the descenders. This is mostly useful in situations where you want to ensure the baseline of text is consistent between labels (<code>fullheight = TRUE</code>), or when you want to avoid descenders spilling out of the bounding box (<code>fullheight = FALSE</code>).</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=ggfittext">https://​cloud.r-project.org/​package=ggfittext</a>
</li>
<li>Browse source code at <br><a href="https://github.com/wilkox/ggfittext">https://​github.com/​wilkox/​ggfittext</a>
</li>
<li>Report a bug at <br><a href="https://github.com/wilkox/ggfittext/issues">https://​github.com/​wilkox/​ggfittext/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>David Wilkins <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/wilkox/ggfittext"><img src="https://travis-ci.org/wilkox/ggfittext.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://cran.r-project.org/package=ggfittext"><img src="http://www.r-pkg.org/badges/version/ggfittext" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="lifecycle"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by David Wilkins.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
